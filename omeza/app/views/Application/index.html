#{extends 'main.html' /}
#{set title:'Omeza - Home' /}

#{set 'scripts'}
<script src="/public/js/periods.js"></script>
#{/}
%{ m = play.i18n.Messages.&get }%

#{set 'styles'}
#{/}

<div id="graph" hidden="false">
<div id="chart" class="chart" style="width: 700px; height: 300px; border: solid 1px black;">CHART</div>
</div>

<form id="newPeriod" action="@{Application.newPeriod()}">
&{'newPeriod'}<input name="start" id="date-field"> <input type="submit" value="Start">
</form>

#{if period}
<div style="margin:0px">
<table class="bbtcycle" cellpacing="0">
<thead>
<tr>
<th width="100px">&{'date'}</th>
<th width="35px">&{'dayno'}</th>
<th width="55px">&{'temperature'}</th>
<th width="35px">&{'sex'}</th>
<th width="35px">&{'special'}</th>
<th width="300px">&{'memo'}</th>
<th width="35px">&{'mucus'}</th>
<th width="35px">&{'blood'}</th></tr>
</thead>

{% c = 1 %}
#{list period.days(), as:'day'}
<tr #{if day.date == today}class="today"#{/} >

<td class="date" width="100px">
${day.date.format(m('dateformat'))}
</td>
<td class="date centerlize" width="35px" >${c}{% c++ %}</td>
<td width="55px">
    <div id="temp${day.id}" class="inplace">37</div>
    <!-- %= in_place_editor_field :day, 'temperature', {}, :rows => 1 % -->
</td>
<td class="centerlize" width="35px">
    <!-- %= in_place_editor_field :day, 'sex', {}, :rows => 1 % -->
</td>
<td class="centerlize" width="35px">
    <!-- %= in_place_editor_field :day, 'special', {}, :rows => 1 % -->
</td>
<!--MEMO--><td width="300px">
    <!-- %= in_place_editor_field :day, 'memo', {}, :rows => 1 % -->
</td>
<!--粘液--><td class="centerlize"  width="35px">
    <!-- %= in_place_editor_field :day, 'mucus', {}, :rows => 1 % -->
</td>
<!--血量--><td class="centerlize" width="35px">
    <!-- %= in_place_editor_field :day, 'blood', {}, :rows => 1 % -->
</td>
</tr>
<!-- ...end for each day -->
#{/list}
</table></div>

#{/if}
#{else}
<div class="bigmessage">No period! Create one to get started.</div>
#{/else}

<script>
$(function(){
    Periods.init();
});
</script>
